<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>karyalay Form</title>
    <link rel="stylesheet" href="forms.css">
    <script>
        var rbFormCounthhhh = localStorage.getItem('table_zoom');

        if (rbFormCounthhhh !== null) {
            // loadwindow();
            // window.location.href = "../home.html";
        }

    </script>
</head>

<body>
    <form id="karyalayForm">

        <h1>कार्यालय</h1>
        <div class="f-div">
            <label for="panchayat-name">पंचायत का नाम</label>
            <input type="text" id="panchayat-name">
        </div>
        <div class="f-div">
            <label for="rokadDate">Date</label>
            <input type="date" id="rokadDate">
        </div>
        <div class="f-div">
            <label for="Year">Year</label>
            <input type="text" id="year" placeholder="2023-24" required>
        </div>
        <div class="f-div">
            <label for="rokadNagadRashi">नगद राशि</label>
            <input type="text" id="rokadNagadRashi">
        </div>
        <div class="f-div">
            <label for="rokadBankRashi">बैंक राशि</label>
            <input type="text" id="rokadBankRashi">
        </div>
        <button type="button" id="submit-btn" onclick="saveData()">Save</button>
    </form>

    <script>


        // Function to save data to local storage
        function saveData() {
            saveData2();
            // Get form values
            var panchayatName = document.getElementById('panchayat-name').value;
            var year = document.getElementById('year').value;
            var purvRashi = document.getElementById('rokadBankRashi').value;
            var NpurvRashi = document.getElementById('rokadNagadRashi').value;

            // Create an object to store the form data
            var formData = {
                'Panchayat Name': panchayatName,
                'Year': year,
                'Purv_Rashi': purvRashi,
                'NPurv_Rashi': NpurvRashi
            };

            // Convert the object to a JSON string
            var formDataJSON = JSON.stringify(formData);

            // Store the JSON string in local storage
            localStorage.setItem('karyalayData', formDataJSON);

            alert('Data saved to local storage!');
        }

        function saveData2() {
            // Get Rokad form values
            var rokadDate = document.getElementById('rokadDate').value;
            // var rokadSNo = document.getElementById('rokadSNo').value;
            // var AKMMKP = document.getElementById("AKMMKP").value;
            // var rokadParticular = document.getElementById('rokadParticular').value;
            var rokadNagadRashi = document.getElementById('rokadNagadRashi').value;
            var rokadBankRashi = document.getElementById('rokadBankRashi').value;
            // var rokadBajtLs = document.getElementById('rokadBajtLs').value;
            // var rokadSignature = document.getElementById('rokadSignature').value;

            // Get Bahi form values
            // var bahiSNo = document.getElementById('bahiSNo').value;
            // var bahiAKMMKP = document.getElementById("bahiAKMMKP").value;
            // var epono = document.getElementById("epono").value;
            // var bahiParticular = document.getElementById('bahiParticular').value;
            // var bahiNagadRashi = document.getElementById('bahiNagadRashi').value;
            // var bahiBankRashi = document.getElementById('bahiBankRashi').value;
            // var bahiBajtLs = document.getElementById('bahiBajtLs').value;
            // var bahiSignature = document.getElementById('bahiSignature').value;

            // Get value from local storage for both forms
            var rbFormCount = localStorage.getItem("rbFormCount") || 0;
            rbFormCount = ++rbFormCount;

            // Create objects to store the form data
            var rbFormData = {
                'Date': rokadDate,
                // 'r_S.no': rokadSNo,
                'r_AKMMKP': "",
                'r_Particular': "पूर्व शेष",
                'r_Nagad Rashi': rokadNagadRashi,
                'r_Bank Rashi': rokadBankRashi,
                'r_Bajt LS': "",
                'r_Signature': "",
                // 'b_S.no': bahiSNo,
                'b_AKMMKP': "",
                'b_E.P.N No.': "",
                'b_Particular': "शेष",
                'b_Nagad Rashi': "",
                'b_Bank Rashi': "",
                'b_Bajt LS': "",
                // 'b_Signature': bahiSignature
                'Form_Id': 'rbData' + rbFormCount,
            };

            // Convert the objects to JSON strings
            var rbFormDataJSON = JSON.stringify(rbFormData);

            // Store the JSON strings and form counts in local storage
            localStorage.setItem('rbFormCount', rbFormCount);

            var rbDataKey = "rbData" + rbFormCount;

            localStorage.setItem(rbDataKey, rbFormDataJSON);

            alert('Data saved to local storage!');

            saveData3();
        }
        function saveData3() {


            var rbFormCount = localStorage.getItem("rbFormCount") || 0;
            rbFormCount = ++rbFormCount;

            // Create objects to store the form data
            var rbFormData = {
                'Date': "3000-04-01",
                // 'r_S.no': rokadSNo,
                'r_AKMMKP': "",
                'r_Particular': "",
                'r_Nagad Rashi': "",
                'r_Bank Rashi': "",
                'r_Bajt LS': "",
                'r_Signature': "",
                // 'b_S.no': bahiSNo,
                'b_AKMMKP': "",
                'b_E.P.N No.': "",
                'b_Particular': "",
                'b_Nagad Rashi': "",
                'b_Bank Rashi': "",
                'b_Bajt LS': "",
                // 'b_Signature': bahiSignature
                'Form_Id': 'rbData' + rbFormCount,
            };

            // Convert the objects to JSON strings
            var rbFormDataJSON = JSON.stringify(rbFormData);

            localStorage.setItem('rbFormCount', rbFormCount);

            var rbDataKey = "rbData" + rbFormCount;

            localStorage.setItem(rbDataKey, rbFormDataJSON);

            alert('Data saved to local storage!');
            localStorage.setItem("reloadhome3", 0);
            loadwindow();
        }

        function loadwindow() {
            window.location.href = "../home.html";
        }
    </script>
</body>

</html>